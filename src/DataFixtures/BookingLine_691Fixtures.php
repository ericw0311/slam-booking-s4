<?php
// App/DataFixtures/BookingLine_691Fixtures.php
namespace App\DataFixtures;
use Doctrine\Bundle\FixturesBundle\Fixture;
use Doctrine\Common\Persistence\ObjectManager;
use Doctrine\Common\DataFixtures\DependentFixtureInterface;
use App\Entity\File;
use App\Entity\User;
use App\Entity\Label;
use App\Entity\Resource;
use App\Entity\Planification;
use App\Entity\PlanificationPeriod;
use App\Entity\PlanificationLine;
use App\Entity\Booking;
use App\Entity\BookingLine;

class BookingLine_691Fixtures extends Fixture implements DependentFixtureInterface
{
    public function load(ObjectManager $manager)
    {
foreach ($this->getData() as [$bookingHeaderID, $userID, $fileID, $resourceID, $date, $planificationID, $planificationHeaderID, $planificationLineID, $type, $morning, $afternoon, $timetableID, $timetableLineID]) {
	
		$user = $this->getReference('user-1');
		$file = $this->getReference('file-'.$fileID);
		$booking = $this->getReference('bookingHeader-'.$bookingHeaderID);
		$planification = $this->getReference('planification-'.$planificationID);
		$planificationPeriod = $this->getReference('planificationHeader-'.$planificationHeaderID);
		$planificationLine = $this->getReference('planificationLine-'.$planificationLineID);
		$resource = $this->getReference('resource-'.$resourceID);
		$bookingLine = new bookingLine($user, $booking, $resource);
		$bookingLine->setDate(date_create_from_format('Y-m-d',$date));
		$bookingLine->setPlanification($planification);
		$bookingLine->setPlanificationPeriod($planificationPeriod);
		$bookingLine->setPlanificationLine($planificationLine);
		if ($type == 'T') {
			$timetable = $this->getReference('timetable-'.$timetableID);
			$timetableLine = $this->getReference('timetableLine-'.$timetableLineID);
		} else if ($type == 'HD' and $morning > 0) {
			$timetable = $this->getReference('timetable-HD-'.$fileID);
			$timetableLine = $this->getReference('timetableLine-AM-'.$fileID);
		} else if ($type == 'HD' and $afternoon > 0) {
			$timetable = $this->getReference('timetable-HD-'.$fileID);
			$timetableLine = $this->getReference('timetableLine-PM-'.$fileID);
		} else if ($type == 'D') {
			$timetable = $this->getReference('timetable-D-'.$fileID);
			$timetableLine = $this->getReference('timetableLine-D-'.$fileID);
		}
		$bookingLine->setTimetable($timetable);
		$bookingLine->setTimetableLine($timetableLine);
		$manager->persist($bookingLine);
		$manager->flush();
	}
    }
	private function getData(): array
    {
	return [
// $data = [$bookingHeaderID, $userID, $fileID, $resourceID, $date, $planificationID, $planificationHeaderID, $planificationLineID, $type, $morning, $afternoon, $timetableID, $timetableLineID]
[12011, 1, 691, 2393, '2016-06-07', 545, 611, 3453, 'T', 0, 0, 366, 2211],
[12011, 1, 691, 2393, '2016-06-07', 545, 611, 3453, 'T', 0, 0, 366, 2210],
[12017, 1, 691, 2393, '2016-06-09', 545, 611, 3455, 'T', 0, 0, 366, 2201],
[12048, 1, 691, 2393, '2016-06-09', 545, 611, 3455, 'T', 0, 0, 366, 2211],
[12091, 1, 691, 2393, '2016-06-13', 545, 611, 3452, 'T', 0, 0, 366, 2201],
[12091, 1, 691, 2393, '2016-06-13', 545, 611, 3452, 'T', 0, 0, 366, 2202],
[12232, 1, 691, 2393, '2016-06-21', 545, 611, 3453, 'T', 0, 0, 366, 2214],
[12233, 1, 691, 2393, '2016-06-21', 545, 611, 3453, 'T', 0, 0, 366, 2215],
[12407, 1, 691, 2393, '2016-07-08', 545, 611, 3456, 'T', 0, 0, 366, 2213],
[12408, 1, 691, 2393, '2016-07-08', 545, 611, 3456, 'T', 0, 0, 366, 2214],
[12446, 1, 691, 2393, '2016-07-19', 545, 611, 3453, 'T', 0, 0, 366, 2204],
[12446, 1, 691, 2393, '2016-07-19', 545, 611, 3453, 'T', 0, 0, 366, 2203],
[12933, 1, 691, 2393, '2016-08-30', 545, 611, 3453, 'T', 0, 0, 366, 2216],
[13097, 1, 691, 2393, '2016-09-07', 545, 611, 3454, 'T', 0, 0, 366, 2204],
[13097, 1, 691, 2393, '2016-09-07', 545, 611, 3454, 'T', 0, 0, 366, 2205],
[13098, 1, 691, 2393, '2016-09-07', 545, 611, 3454, 'T', 0, 0, 366, 2209],
[13098, 1, 691, 2393, '2016-09-07', 545, 611, 3454, 'T', 0, 0, 366, 2210],
[13285, 1, 691, 2393, '2016-09-16', 545, 611, 3456, 'T', 0, 0, 366, 2203],
[13285, 1, 691, 2393, '2016-09-16', 545, 611, 3456, 'T', 0, 0, 366, 2202],
[13287, 1, 691, 2393, '2016-09-23', 545, 611, 3456, 'T', 0, 0, 366, 2203],
[13287, 1, 691, 2393, '2016-09-23', 545, 611, 3456, 'T', 0, 0, 366, 2202],
[13288, 1, 691, 2393, '2016-09-30', 545, 611, 3456, 'T', 0, 0, 366, 2203],
[13288, 1, 691, 2393, '2016-09-30', 545, 611, 3456, 'T', 0, 0, 366, 2202],
[13712, 1, 691, 2393, '2016-10-10', 545, 611, 3452, 'T', 0, 0, 366, 2213],
[13712, 1, 691, 2393, '2016-10-10', 545, 611, 3452, 'T', 0, 0, 366, 2214],
[13712, 1, 691, 2393, '2016-10-10', 545, 611, 3452, 'T', 0, 0, 366, 2215],
[13713, 1, 691, 2393, '2016-10-17', 545, 611, 3452, 'T', 0, 0, 366, 2213],
[13713, 1, 691, 2393, '2016-10-17', 545, 611, 3452, 'T', 0, 0, 366, 2214],
[13713, 1, 691, 2393, '2016-10-17', 545, 611, 3452, 'T', 0, 0, 366, 2215],
[13713, 1, 691, 2393, '2016-10-17', 545, 611, 3452, 'T', 0, 0, 366, 2216],
[13713, 1, 691, 2393, '2016-10-17', 545, 611, 3452, 'T', 0, 0, 366, 2217],
[13713, 1, 691, 2393, '2016-10-17', 545, 611, 3452, 'T', 0, 0, 366, 2218],
[13714, 1, 691, 2393, '2016-10-28', 545, 611, 3456, 'T', 0, 0, 366, 2202],
[13714, 1, 691, 2393, '2016-10-28', 545, 611, 3456, 'T', 0, 0, 366, 2203],
[13716, 1, 691, 2393, '2016-10-14', 545, 611, 3456, 'T', 0, 0, 366, 2202],
[13716, 1, 691, 2393, '2016-10-14', 545, 611, 3456, 'T', 0, 0, 366, 2203],
[14816, 1, 691, 2393, '2016-12-05', 545, 611, 3452, 'T', 0, 0, 366, 2200],
[14817, 1, 691, 2393, '2016-12-05', 545, 611, 3452, 'T', 0, 0, 366, 2201],
[14822, 1, 691, 2393, '2016-12-06', 545, 611, 3453, 'T', 0, 0, 366, 2201],
[14822, 1, 691, 2393, '2016-12-06', 545, 611, 3453, 'T', 0, 0, 366, 2202],
[14823, 1, 691, 2393, '2016-12-05', 545, 611, 3452, 'T', 0, 0, 366, 2212],
[14823, 1, 691, 2393, '2016-12-05', 545, 611, 3452, 'T', 0, 0, 366, 2213],
[14823, 1, 691, 2393, '2016-12-05', 545, 611, 3452, 'T', 0, 0, 366, 2214],
[15010, 1, 691, 2393, '2016-12-16', 545, 611, 3456, 'T', 0, 0, 366, 2209],
[15011, 1, 691, 2393, '2016-12-19', 545, 611, 3452, 'T', 0, 0, 366, 2205],
[15012, 1, 691, 2393, '2016-12-19', 545, 611, 3452, 'T', 0, 0, 366, 2215],
[15013, 1, 691, 2393, '2016-12-20', 545, 611, 3453, 'T', 0, 0, 366, 2205],
[15014, 1, 691, 2393, '2016-12-20', 545, 611, 3453, 'T', 0, 0, 366, 2215],
[15015, 1, 691, 2393, '2016-12-21', 545, 611, 3454, 'T', 0, 0, 366, 2205],
[15016, 1, 691, 2393, '2016-12-21', 545, 611, 3454, 'T', 0, 0, 366, 2215],
[15017, 1, 691, 2393, '2016-12-22', 545, 611, 3455, 'T', 0, 0, 366, 2215],
[15018, 1, 691, 2393, '2016-12-23', 545, 611, 3456, 'T', 0, 0, 366, 2215],
[16081, 1, 691, 2393, '2017-02-06', 545, 611, 3452, 'T', 0, 0, 366, 2209],
[16081, 1, 691, 2393, '2017-02-06', 545, 611, 3452, 'T', 0, 0, 366, 2210],
[16081, 1, 691, 2393, '2017-02-06', 545, 611, 3452, 'T', 0, 0, 366, 2211],
[16244, 1, 691, 2393, '2017-02-16', 545, 611, 3455, 'T', 0, 0, 366, 2204],
[16387, 1, 691, 2393, '2017-02-21', 545, 611, 3453, 'T', 0, 0, 366, 2209],
[16387, 1, 691, 2393, '2017-02-21', 545, 611, 3453, 'T', 0, 0, 366, 2210],
[16387, 1, 691, 2393, '2017-02-21', 545, 611, 3453, 'T', 0, 0, 366, 2211],
[16387, 1, 691, 2393, '2017-02-21', 545, 611, 3453, 'T', 0, 0, 366, 2212],
[16389, 1, 691, 2393, '2017-02-28', 545, 611, 3453, 'T', 0, 0, 366, 2216],
[16784, 1, 691, 2393, '2017-03-16', 545, 611, 3455, 'T', 0, 0, 366, 2213],
[16784, 1, 691, 2393, '2017-03-16', 545, 611, 3455, 'T', 0, 0, 366, 2214],
[16784, 1, 691, 2393, '2017-03-16', 545, 611, 3455, 'T', 0, 0, 366, 2215],
[16784, 1, 691, 2393, '2017-03-16', 545, 611, 3455, 'T', 0, 0, 366, 2216],
[16784, 1, 691, 2393, '2017-03-16', 545, 611, 3455, 'T', 0, 0, 366, 2217],
[16784, 1, 691, 2393, '2017-03-16', 545, 611, 3455, 'T', 0, 0, 366, 2218],
[16784, 1, 691, 2393, '2017-03-16', 545, 611, 3455, 'T', 0, 0, 366, 2219],
[16784, 1, 691, 2393, '2017-03-16', 545, 611, 3455, 'T', 0, 0, 366, 2220],
[17013, 1, 691, 2393, '2017-03-29', 545, 611, 3454, 'T', 0, 0, 366, 2201],
[17223, 1, 691, 2393, '2017-04-11', 545, 611, 3453, 'T', 0, 0, 366, 2215],
[17223, 1, 691, 2393, '2017-04-11', 545, 611, 3453, 'T', 0, 0, 366, 2216],
[17311, 1, 691, 2393, '2017-04-12', 545, 611, 3454, 'T', 0, 0, 366, 2215],
[17311, 1, 691, 2393, '2017-04-12', 545, 611, 3454, 'T', 0, 0, 366, 2216],
[17311, 1, 691, 2393, '2017-04-12', 545, 611, 3454, 'T', 0, 0, 366, 2217],
[17311, 1, 691, 2393, '2017-04-12', 545, 611, 3454, 'T', 0, 0, 366, 2218],
[17821, 1, 691, 2393, '2017-05-19', 545, 611, 3456, 'T', 0, 0, 366, 2212],
[18341, 1, 691, 2393, '2017-06-20', 545, 611, 3453, 'T', 0, 0, 366, 2213],
[18341, 1, 691, 2393, '2017-06-20', 545, 611, 3453, 'T', 0, 0, 366, 2214],
[18341, 1, 691, 2393, '2017-06-20', 545, 611, 3453, 'T', 0, 0, 366, 2215],
[18341, 1, 691, 2393, '2017-06-20', 545, 611, 3453, 'T', 0, 0, 366, 2216],
[18341, 1, 691, 2393, '2017-06-20', 545, 611, 3453, 'T', 0, 0, 366, 2217],
[18341, 1, 691, 2393, '2017-06-20', 545, 611, 3453, 'T', 0, 0, 366, 2218],
[20803, 1, 691, 2393, '2017-11-14', 545, 611, 3453, 'T', 0, 0, 366, 2203],
[20803, 1, 691, 2393, '2017-11-14', 545, 611, 3453, 'T', 0, 0, 366, 2204],
[20803, 1, 691, 2393, '2017-11-14', 545, 611, 3453, 'T', 0, 0, 366, 2205],
[20846, 1, 691, 2393, '2017-11-15', 545, 611, 3454, 'T', 0, 0, 366, 2209],
[22296, 1, 691, 2393, '2018-02-14', 545, 611, 3454, 'T', 0, 0, 366, 2209],
[22296, 1, 691, 2393, '2018-02-14', 545, 611, 3454, 'T', 0, 0, 366, 2210],
[22296, 1, 691, 2393, '2018-02-14', 545, 611, 3454, 'T', 0, 0, 366, 2211],
[22296, 1, 691, 2393, '2018-02-14', 545, 611, 3454, 'T', 0, 0, 366, 2212],
	];
    }
	
	public function getDependencies()
	{
		return array(FileFixtures::class, UserFixtures::class, ResourceFixtures::class, TimetableFixtures::class, TimetableLineFixtures::class, 
			PlanificationFixtures::class, PlanificationPeriodFixtures::class, PlanificationLineFixtures::class, Booking_691Fixtures::class);
    }
}